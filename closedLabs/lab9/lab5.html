<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

  <title>Lab 5 - File Operation
  </title>
</head>
  <!--!!!!!!!!!! Lesson Title and Objective   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--> 
    <center>
      <h1>
Lab 5 -- Programming C++ with <em>File Operation</em>
      </h1>
      </center>

<p>
In this lab, we will practice:
<ul>
<li>Use while loop to read from a data file, and process the information read.
</ul>
<p>

<!-- <h2>Program One</h2> -->
Write a C++ program, named <b>"average.cpp"</b>, that reads the values from a data file, display the values, and computes and displays the largest, smallest, and the average of these values.

<h3>Important!</h3> <p>
To make the data file accessible by the project, put the data file in the current project directory.
<ol>
<li>First, make sure the project has been created in CodeLite for the current programming assignment. This ensures that the project directory is created. You need to copy the data file from my account into this project directory.
<li>Open a terminal
<li>Type the following command:   cp ~cen/data/lab5*.dat codelite/project-name/ <br>
This command copies the two data files (lab5-1.dat and lab5-2.dat) into your project directory.
</ol>

For this program, write a single main function in your program.
<p>
Here is an example run of the program when the data file to be opened is specified  using the statement:

<xmp>
ifstream myIn;
myIn.open("../lab5-1.dat");
</xmp>

<hr>
<p> Sample run 1
<xmp>
The values read are:
30
-40
25
64
89
103
45
89
34
-2
15
63

Total 12 numbers. 
The largest number is 103, and the smallest number is -40.
The average of these numbers is 42.9.

</xmp>
<hr>

Here is a second example run of the program 
when the second data file is specified in the program:

<xmp>
ifstream myIn;
myIn.open("../lab5-2.dat");
</xmp>


<hr>
<p> Sample run 2
<xmp>
The values read are:
500
430
240
-390
-230
100
394
444
882
-30
-29
683
732
990
-538
93

Total 16 numbers.
The largest number is 990, and the smallest number is -538.
The average of these numbers is 266.9.
</xmp>


<p> Note: The reason we use "../lab5-1.dat" instead of "lab5-1.dat" is because we have copied the data file in the current project directory. In codelite, the executable program is stored in the directory named "Debug" in the current project directory. We need to tell the executable program that the data file is actually located one directory above the "Debug" directory.

<hr>

<!--
<h2>Program Two</h2>
<h2>Copy Data Files</h2>
To make the data file accessible by the project, put the data file in the current project directory.
<ol>
<li>First, create the project (closedLab5) in CodeLite for this closed lab. This ensures that the project directory is created. You need to copy the data file from my account into this project directory.
<li>Then, open a terminal
<li>Now, use "cd" command to change directory to the current directory, i.e., cd codelite/closedLab5.
<li>At this time, type the command:   cp ~cen/data/lab5*.dat .<br>
This command copies the two data files (lab5-1.dat and lab5-2.dat) into your project directory.
</ol>

<h2>Program Requirement:</h2>
Write a C++ program, named <b>"average.cpp"</b>, that reads the values from a data file, display the values, and computes and displays the largest, smallest, and the average of these values:

<p>
You need to write 3 user defined functions for this program:
<font color=red>Develop each function one by one. That is to write one function, compile and run the program with that function. If successful, move on to add the 2nd function, compile and run that program. If all is correct, move on to add the 3rd function. Do not try to implement all the functions at once.</font></a>
<ol>
<li> Write a function named "OpenFile". This function is responsible for:
    <ul>
    <li>Prompt the user to enter the data file name. 
    <li>Open the data file
    <li>Use assert function to verify that the input file is opened properly 
    <li>return the input file stream through reference parameter
    </ul>
<li> Write a second function named "ComputeStatistics". This function is responsbile for:
    <ul>
    <li>Read data one by one from the data file (<font color=red>remember: file streams are always passed to function as reference parameters</font>)
    <li>Display the values as they are read in,
    <li>Count the number of values read,
    <li>Compute the statistics: smallest, largest, and average,
    <li>Return all the information (count and all the statistics) back to the calling function through reference parameters.
    <li><font color=red>Question: Should the parameters corresponding to the "count", "smallest", "largest", and "average" be passed as value parameters or reference parameters?</font>
    </ul>
<li> Write a third function named "DisplayResults". This function is responsible for:
    <ul>
    <li>Display the results as shown in the example program runs
    <li><font color=red>Question: Should the parameters to this function be value parameters or reference parameters?</font>
    </ul>
</ol>    
As you are writing these three functions, think: 
    <ul>
    <li> What should be the type of this function? void or value returning?
    <li> What are the parameters of this function?
    <li> Should each parameter be passed by value? or by reference?
    </ul>
<p> 

<hr>
Sample run 1
<xmp>
Please enter the data file name: ../lab5-1.data
Assertion failed: (input), ...
</xmp>
<hr>

<p>Sample run 2
<xmp>
The values read are:
30
-40
25
64
89
103
45
89
34
-2
15
63

Total 12 numbers. 
The largest number is 103, and the smallest number is -40.
The average of these numbers is 42.9.

</xmp>

<hr>
<p> Sample run 3
<xmp>
Please enter the data file name: ../lab5-2.dat

The values read are:
500
430
240
-390
-230
100
394
444
882
-30
-29
683
732
990
-538
93

Total 16 numbers.
The largest number is 990, and the smallest number is -538.
The average of these numbers is 266.9.
</xmp>

<hr>
<p> Note: When prompted to enter data file name, enter directory path as well as the data file name.

<p>
<h2>What to Submit</h2>
For this lab, you need to submit the file: <em>average.cpp</em>.
<p>
<h2>Steps to edit, compile, run, and submit the program:</h2>
<ul>
<li>If after you compile your program, there is compilation errors, then you need to modify the program according to the error messages. 
You may need to edit and compile your program multiple times before it compiles successfully.

<li>Now you can run the program, check to make sure the output is correct. If not, you need to modify the program and recompile and rerun the program.

<li>Once you are able to successfully run the program with the correct outputs, you are ready to submit the program electronically. Only submit the source file. 

Locate the source file in your "project" directory under your "workspace" directory. 
For example, if you named your "workspace" as "codelite" under your home directory, and named the project "closedLab5", then "average.cpp" should be in ~/codelite/closedLab5 directory.

</body></html>
