<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<title>Lab 8-- Value returning function 
</title>
</head>
  <!--!!!!!!!!!! Lesson Title and Objective   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--> 
<center>
      <h1>
Lab 8 -- Programming C++ with <em>Value Returning Functions </em> 
      </h1>
</center>

For this lab, write a C++ program named <font color=red>isbn.cpp</font> to check for ISBN number.
<p>

<b>Problem description:</b>
The International Standard Book Number (ISBN) is a unique, numerical commercial book identifier. The ISBN is 13 digits long if assigned after January 1, 2007.  The last digit of the thirteen-digit ISBN is called check digit, which is used to verify if an ISBN is a valid ISBN. The following describes the way to calculate the check digit.
<p>
The calculation of an ISBN-13 check digit begins with the <font color=red>first 12 digits</font> of the 13-digit ISBN (thus excluding the check digit itself):
<ol>
<li> Each digit, from left to right, is alternately multiplied by 1 or 3, 
<li> Those products are summed and calculated modulo 10 to give a value ranging from 0 to 9. 
<li> The value is subtracted from 10, that leaves a result from 1 to 10. 
<li> <font color=blue>A zero (0) replaces a ten (10), so, in all cases, a single check digit results</font>.
</ol>
 <p>
For example, the ISBN-13 check digit of 978-0-306-40615-? is calculated as follows::
<xmp>
s = 9 * 1 + 7 * 3 + 8 * 1 + 0 * 3 + 3 * 1 + 0 * 3 + 6 * 1 + 4 * 3 + 0 * 1 + 6 * 3 + 1 * 1 + 5 * 3
  =  9    +  21  +   8   +   0    +   3   +   0   +   6   +  12 +   0     +  18 +    1    +  15
  = 93
93 mod 10 = 3
10 - 3  = 7 
</xmp> 
<p>
Thus, the check digit is 7, and the complete sequence is ISBN 978-0-306-40615-7.
<p>
Therefore, given a thirteen-digit ISBN, we can calucate the check digit using the above approach and compare it with the last digit in the given ISBN to decide if it is valid or not.
<p>
Write a program that reads one ISBN number from screen and checks if it is a valid ISBN number. Assume that there is no space, dash or other symbols within an ISBN number. 
<p>
You are required to declare and define the following two <b>Value Returing</b> functions:
<ol>
<li>
The <b>CheckDigit</b> function takes a C++ string containing ISBN as the parameter, 
  and returns the theoretic <b>check digit</b> from the first 12 digits of the ISBN.	
The calculation of an ISBN-13 <b>check digit</b> begins with the first 
12 digits of the 13-digit ISBN (thus excluding the check digit itself). 
<ol>
<li>Each digit, from left to right, is alternately multiplied by 1 or 3, 
<li>Those products are summed and calculated modulo 10 to give a value ranging from 0 to 9. 
<li>The value is subtracted from 10, that leaves a result from 1 to 10. 
<li>A zero (0) replaces a ten (10), so, in all cases, a single check digit results.
</ol>
This function returns (explicitly) the theoretic <b>check digit</b>.

<li>The <b>IsValidISBN</b> function takes a C++ string containing ISBN as the 
parameter, and returns a boolean value to indicate if the ISBN is valid or not.
It calls the <b>CheckDigit</b> function to compute the <b>check digit</b> of the ISBN number.
</ol>

<p>
Create a new project "closedLab8" in codelite, and rename the source file to <b>isbn.cpp</b>.<br>
Copy the data file <b>isbn.dat</b> into your project directory with the command: 
<font color=red>cp ~cen/data/isbn.dat codelite/closedLab8/</font>.  <br>
Here is the skeleton program you may copy/paste to get started.

<xmp>
#include <iostream>
#include <string>
#include <fstream>
#include <cassert>
using namespace std;

// Function Prototypes
//Provide function prototypes for CheckDigit and IsValidISBN


int main( )
{

        string          isbn;           //ISBN number to be processed
        bool            isValid;        //indicates if the isbn is valid
        ifstream        myIn;

        myIn.open("../isbn.dat");
        assert(myIn);
        while ( myIn >> isbn)   //read a ISBN number from data file
        {
                // Add statement that makes a call to the function IsValidISBN to find out the value of variable isValid.



                if ( isValid )
                        cout << isbn << " is a valid ISBN number" << endl;
                else
                        cout << isbn << " is not a valid ISBN number" << endl;
        }

        myIn.close();
        return 0;
}
 
// Define the IsValidISBN function here. The IsValidISBN function will call function "CheckDigit" to compute the check digit



// Define CheckDigit function here. 



</xmp> 
			
<p>
Here is an example output of the program:
<hr>

<xmp>
9780262026499 is a valid ISBN number

9780321480798 is a valid ISBN number

9780596514552 is not a valid ISBN number

9780596514556 is a valid ISBN number

9780596529260 is a valid ISBN number

9781596510510 is not a valid ISBN number
</xmp>

<hr>

<p>
<h2>What to Submit for this part of the lab:</h2>

Create a script file with the steps shown below.
<xmp>
script  log7
pr -n -t -e4 isbn.cpp
c++ isbn.cpp -o run7
run7  
exit
</xmp>
<p>
These steps creates the script file named log7. <br><p>
<li>
Submit the program with the "handin" command shown below:
<br>
<font color=red>
&nbsp&nbsp&nbsp&nbsp handin lab7 isbn.cpp log7
</font>
<br><p>
(<b>Note: the name of the program needs to match the required file name exactly for submission to be successful.</b>)
</body></html>
