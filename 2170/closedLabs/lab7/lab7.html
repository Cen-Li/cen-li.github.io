<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

  <title>Read functions and read marker
  </title>
</head>
    <center>
      <h1>
Programming C++ using <em>Read Functions </em>
      </h1>
      </center>

<p>
In this lab, we will practice using various C++ functions to read different types of data
from a data file. Name your program <font color=red>read.cpp</font>
<p>
The functions we have discussed include:
<ul>
<li> <b>get</b>  <span style="display:inline-block; width: 50;"></span> read a single character from the input stream, does not skip white spaces
<li> <b>getline</b> <span style="display:inline-block; width: 25;"></span> read an entire line of characters from the input stream, consumes the end of line character
<li> <b>>></b>   <span style="display:inline-block; width: 50;"></span> read til the next white space character
<li> <b>ignore</b> <span style="display:inline-block; width: 25;"></span> skips over characters
</ul>
Refer to the lecture notes for more details of these functions.
<p>

Your program reads data from a file named "library.dat", then display information on the screen in table format:
<ol>
<li>First, copy the data file into your project folder with the following command:
<xmp>
cp ~cen/data/library.dat .   &nbsp&nbsp&nbsp&nbsp <-- notice the trailing period
</xmp>
<li>Then, take a look at the content of the data file using the "more" command:
<xmp>
more library.dat
</xmp>
The data file is of this format:
<xmp>
The Finkler Question    <-- title of a book, also the beginning of the first book record
Howard Jacobson		<-- author of the book
3 stars			<-- reader star rating
10 12 2010		<-- publication date of the book
15.00 new 			<-- price of the book
Come, thou Tortoise	<-- beginning of the second book
Jessica Grant
4.8 stars
3 9 2012		<-- end of the second book
22.0 mint
...
</xmp>
</ol>

Your program will read <b>ONLY</b> the following information of each book from this data file:
<ul>
<li>book title
<li>book author
<li>star rating, do not include the string "stars"
<li>price, do not include the comments, such as "used", "mint", "new", etc.
<li>publication year, do not include month and day
</ul>
As soon as the program read the appropriate information for one book, 
display it on the screen. Then move on to read the information of the next book.
The information of all the books are displayed in the table form. 
Do not store the information in any kind of data structure for this lab.

<p> Your program will also keep count of the total number of books read.
<p>
Here is an example output of the program:
<hr>
<xmp>
TITLE                    AUTHOR                   	RATING	PRICE	YEAR

The Finkler Question     Howard Jacobson          	3.00	15.00	2010
Come, thou Tortoise      Jessica Grant            	4.80	22.00	2012
Catching Fire            Suzanne Collins          	5.00	9.98	2013
Mokingjay                Suzanne Collins          	4.60	9.95	2014
Winnie's War             Jackson Moss             	3.80	10.50	2013
Deenie                   Judy Blume               	3.80	0.95	1994
Only One Year            Andrea Cheng             	4.90	3.56	1969
Can Adults Become Human? Jim Benton               	4.20	5.35	2006

 		There are a total of 8 books.
</xmp>
<hr>

<p>
<font color=blue>Here is the template of the program. You may copy and paste this template into your source code.</font>
<xmp>
#include <iostream>
#include <fstream>
#include <cassert>
#include <iomanip>
using namespace std;

void DisplayTableHeading();
int main() 
{
	int year;
	string title;
	string author;
	float rating;
	float price;
        int  count=0;

	ifstream myIn("library.dat"); // in codelite, change to "../library.dat"
	assert(myIn);

 	// Display the heading of the table
	DisplayTableHeading();

	// Write a while loop here to read information for one book at a time
	// Once a record is read, it calls function "DisplayOneLine" to display the information in the required format

	

	myIn.close();

	return 0;
}

// Description: This function prints the heading of the output table of information
void DisplayTableHeading()
{
	cout << left;
	cout << fixed << showpoint << setprecision(2);
	cout << setw(25) << "TITLE" << setw(25) << "AUTHOR" << "\t"
		<< "RATING" << "\t" << "PRICE" << "\t" << "YEAR"<< endl << endl; 
	return;
}

// Description: This function prints one line of information for one book
void DisplayOneLine(string title, string author, float rating, float price, int year)
{
	cout << setw(25) << title << setw(25) << author << "\t" << rating << "\t" 
	<< price << "\t" << year << endl;
	return;
}
</xmp>


<p>
<h2>What to Submit?</h2>
For this lab, submit the program read.cpp.
</body></html>
