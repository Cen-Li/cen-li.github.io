<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

  <title>Array Insertion 
  </title>
</head>
  <!--!!!!!!!!!! Lesson Title and Objective   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--> 
    <center>
      <h1>
Programming C++ with <em>Array Insertion</em> Operation 
      </h1>
      </center>

<p>
Inserting and deleting items from an one dimensional array are common and useful operations.
In this lab, we will practice using Insert operation with array.
We will add to the program written in closed lab 11 such that we can add new books to the collection.
<p>
Name your program <b>"addbook.cpp"</b>.
This program works as described below:
   <ol>
   <li>First, it reads the titles of a collection of books
from the data file (<a href=booktitles.dat>booktitles.dat</a>) and stores them in an array. <br>
<font color=red>You are required to define a user defined function
to read data  from a data file and store them in the array.</font>
<p>
 <li>Once read, it prints out the list of book titles, one title per line. <br>
<font color=red>You are required to define a user defined function to display the book titles</font>
 <p>
<b>The logics used in these two steps have been completed in the program written for closed lab 11.
You may refer back to the part of the source code from closed lab 11. </b>
<p>  
 <li>Afterwards, the program goes into a loop prompting the user to add book titles, one at a time, to the collection. Each iteration through the loop:
   <ul><li>First, it prompts the user for a new book title,
   <li>If this title is already in the collection, displays an error message,
   <li>Otherwise, it asks the user where to add the book in the collection, 
   <li>If the location entered is a valid location, insert the title, otherwise, display an error message.
   <br>
   <font color=red> A user defined function is required to insert the value into the array 
   <ul>
   <li>the input to the function include: 
      <ol>
      <li>the new book title, and 
      <li>the location specified
      </ol>
   </ul>
   </font>
   </ul>
   This loop ends when the user enters an empty book title when prompted, i.e., press "ENTER" when prompted for book title.
   </ol>
Here is an example run of the program:
<hr>

<xmp>
Books in the collection:
1 : The Untethered Soul: The Journey Beyond Yourself
2 : Ruby
3 : When I Found You
4 : The Pecan Man
5 : Yellow Crocus
6 : Take Me With You
7 : What She Left Behind
8 : The Alchemist
9 : We Are Water: A Novel (P.S.)
10 : The Nightingale
11 : Drowning Ruth: A Novel
12 : The Invention of Wings
13 : The Secret Life of Bees
14 : Cane River
15 : The Life We Bury
16 : The Plum Tree
17 : Shantaram: A Novel
18 : Middlesex: A Novel
19 : A Bend in the Road
20 : The Book of Awakening: Having the Life You Want by Being Present to the Life You Have
21 : Whistling Past the Graveyard
22 : A Spool of Blue Thread: A novel
23 : The Gifts of Imperfection: Let Go of Who You Think You're Supposed to Be and Embrace Who You Are
24 : What I Know For Sure
25 : A New Earth: Awakening to Your Life's Purpose
26 : While I Was Gone
27 : I Know This Much Is True: A Novel
28 : Night (Night)
29 : She's Come Undone

Please enter the title to add to the collection: Harry Potter
Please enter the location to add the new book: 2

After insertion ...
Books in the collection:
1 : The Untethered Soul: The Journey Beyond Yourself
2 : Harry Potter
3 : Ruby
4 : When I Found You
5 : The Pecan Man
6 : Yellow Crocus
7 : Take Me With You
8 : What She Left Behind
9 : The Alchemist
10 : We Are Water: A Novel (P.S.)
11 : The Nightingale
12 : Drowning Ruth: A Novel
13 : The Invention of Wings
14 : The Secret Life of Bees
15 : Cane River
16 : The Life We Bury
17 : The Plum Tree
18 : Shantaram: A Novel
19 : Middlesex: A Novel
20 : A Bend in the Road
21 : The Book of Awakening: Having the Life You Want by Being Present to the Life You Have
22 : Whistling Past the Graveyard
23 : A Spool of Blue Thread: A novel
24 : The Gifts of Imperfection: Let Go of Who You Think You're Supposed to Be and Embrace Who You Are
25 : What I Know For Sure
26 : A New Earth: Awakening to Your Life's Purpose
27 : While I Was Gone
28 : I Know This Much Is True: A Novel
29 : Night (Night)
30 : She's Come Undone

Please enter the title to add to the collection: The Plum Tree
The book is already in the collection. Insertion not carried out.

Please enter the title to add to the collection: How to Train Your Dragon
Please enter the location to add the new book: 19

After insertion ...
Books in the collection:
1 : The Untethered Soul: The Journey Beyond Yourself
2 : Harry Potter
3 : Ruby
4 : When I Found You
5 : The Pecan Man
6 : Yellow Crocus
7 : Take Me With You
8 : What She Left Behind
9 : The Alchemist
10 : We Are Water: A Novel (P.S.)
11 : The Nightingale
12 : Drowning Ruth: A Novel
13 : The Invention of Wings
14 : The Secret Life of Bees
15 : Cane River
16 : The Life We Bury
17 : The Plum Tree
18 : Shantaram: A Novel
19 : How to Train Your Dragon
20 : Middlesex: A Novel
21 : A Bend in the Road
22 : The Book of Awakening: Having the Life You Want by Being Present to the Life You Have
23 : Whistling Past the Graveyard
24 : A Spool of Blue Thread: A novel
25 : The Gifts of Imperfection: Let Go of Who You Think You're Supposed to Be and Embrace Who You Are
26 : What I Know For Sure
27 : A New Earth: Awakening to Your Life's Purpose
28 : While I Was Gone
29 : I Know This Much Is True: A Novel
30 : Night (Night)
31 : She's Come Undone
Please enter the title to add to the collection:

</xmp>

<hr>
<h2>Problem you may encounter</h2>
When you prompt the user to enter the location for inserting the new title, then user enter the location and also hit "RETURN".
The "Return" key will be entered as the character '\n' after the location number is read in the program.
<p>
Afterwards, a getline statement is used to read the next book title to insert. 
At this point, the getline statement will read in '\n' as the next book title and prematurely terminate the loop.

<p>
To deal with this problem, you need to add the line: cin.ignore(100, '\n');   to your program after the reading of the location, thereby skip over the '\n' character. 

</body></html>
