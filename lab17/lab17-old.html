<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

  <title>Lab 17 - Sorted list with struct type data 
  </title>
</head>
  <!--!!!!!!!!!! Lesson Title and Objective   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--> 
    <center>
      <h1>
Lab 17 -- Sorted (Array-based) List with <em>Struct Type Data</em> 
      </h1>
      </center>

In this lab, we will use array based sorted list class to work with struct type data:
<ul>
<li>Create a new project, "CLA17",
<li>Add to this project a C++ class named "slist" for sorted list. 
Refer to the code discussed in class for this class.
<li>Define the struct type "BookType" in the header file of "slist" 
to store the values of a book record.
<xmp>
#ifndef SortedList_H
#define SortedList_H

struct DateType
{
	int month;
	int day;
	int year;
};

struct BookType
{
	string title;
	string author;
	DateType dateBorrowed;
	int publicationYear;

	bool operator <= (const BookType & rhs) {   // codelite compiler requires you to put "const" in the parameter when overload the operators
		return (title <= rhs.title);
	}
};

const int MAX_LENGTH=50;
typedef BookType ItemType;       // <-- this line sets the item type of this list to be of type "BookType"
class SortedList 
{
   ....

};
#endif

</xmp>
<br>
Make "ItemType" an alias of the type "BookType".

<li>Write the client program to read the book records from the data file one record at a time. 
Once the values of one book is read, insert it into the list of books.
Repeat this until the end of the data file is reached or the capacity of the list is reached.
<br>Hint: This is the same data file we discussed in this example:
<a href=../../private/code/review/31-struct-sort.cpp target=new>link to program code</a>. 
<p>
To download the data file into the project directory, use this command: <br>
<b>cp ~cen/data/books.dat  codelite-workspace-folder/project-folder/. </b>
<br>
<xmp>
int size=0;
BookType aBook;
while (size < MAX_SIZE && getline(myIn, aBook.title)) {

		getline(myIn, aBook.author);
		myIn >> aBook.dateBorrowed.month;
		myIn >> aBook.dateBorrowed.day;
		myIn >> aBook.dateBorrowed.year;

		myIn >> aBook.publicationYear;
		myIn.ignore(100, '\n');

		// add lines below to add the book into the list and update "size"
}
</xmp>
<p>
<li>After the books are read from the data file, and inserted/added to the list, display the books one by one as shown below.
<li>Prompt the user to enter the name of an author, display only the books written by this author.
<br>Here is the program logic for the client program:
<xmp>
// reset the iterator for the list object

// use "for" loop to go through the length of the list:
   // retrieve the next item
   // check to see if this item has the author name matches with the author name entered by the user
         // display the book if the author name matches
</xmp>
</ul>


<h2>Example output of the program</h2>

<xmp>

The list of books are:

Title: Angela's Ashes: A Memoir
Author: Frank McCourt
Publication Year: 2012
Date borrowed: 7/7/2013

Title: A Couple of Blaguards
Author: Frank McCourt
Publication Year: 2013
Date borrowed: 9/4/2013

Title: Harry Potter and the Deathly Hallows
Author: J. K. Rowling
Publication Year: 2014
Date borrowed: 4/3/2015

Title: Harry Potter and the Half-Blood Prince
Author: J. K. Rowling
Publication Year: 2015
Date borrowed: 10/3/2015

Title: Harry Potter And The Order Of The Phoenix
Author: J. K. Rowling
Publication Year: 2015
Date borrowed: 8/20/2015

Title: Pride and Prejudice
Author: Jane Austin
Publication Year: 2012
Date borrowed: 5/9/2013

Title: Emma
Author: Jane Austin
Publication Year: 2013
Date borrowed: 8/8/2014

Title: Persuasion
Author: Jane Austin
Publication Year: 2015
Date borrowed: 10/3/2015

Title: The Cat Bible
Author: John Eddleman
Publication Year: 2012
Date borrowed: 5/9/2014

Title: The Fault in Our Stars
Author: John Green
Publication Year: 2013
Date borrowed: 1/28/2015

Title: Born Free
Author: Leo Johnson
Publication Year: 2012
Date borrowed: 4/24/2012

Title: Cat Lovers
Author: Mary Johnson
Publication Year: 2013
Date borrowed: 1/1/2015

Title: The Girl on the Train
Author: Paula Hawkins
Publication Year: 2014
Date borrowed: 9/20/2015

Title: The Golden Compass: His Dark Materials
Author: Philips Pullman
Publication Year: 2012
Date borrowed: 4/29/2013

Title: The Jungle Cats
Author: Steve Martin
Publication Year: 2013
Date borrowed: 3/4/2014

Title: Catching Fire
Author: Suzanne Collins
Publication Year: 2013
Date borrowed: 5/8/2013

Title: Mockingjay
Author: Suzanne Collins
Publication Year: 2014
Date borrowed: 10/4/2014

Title: The Hunger Game
Author: Suzanne Collins
Publication Year: 2011
Date borrowed: 2/10/2011

Please enter the name of the author :  J. K. Rowling

The list of books are:

Title: Harry Potter and the Deathly Hallows
Author: J. K. Rowling
Publication Year: 2014
Date borrowed: 4/3/2015

Title: Harry Potter and the Half-Blood Prince
Author: J. K. Rowling
Publication Year: 2015
Date borrowed: 10/3/2015

Title: Harry Potter And The Order Of The Phoenix
Author: J. K. Rowling
Publication Year: 2015
Date borrowed: 8/20/2015

</xmp>

<hr>

<p>
<h2>What to submit?</h2>
For this lab, you need to submit : <em>slist.h, slist.cpp, main.cpp</em>.
<p>
<h2>Steps to edit, compile, run, and submit the program:</h2>
<ul>
<li>If after you compile your program, there is compilation errors, then you need to modify the program according to the error messages. 
You may need to edit and compile your program multiple times before it compiles successfully.

<li>Now you can run the program, check to make sure the output is correct. If not, you need to modify the program and recompile and rerun the program.

<li>Once you are able to successfully run the program with the correct outputs, you are ready to submit the program electronically. Only submit the source file. 

Locate the source file in your "project" directory under your "workspace" directory. 
For example, if you named your "workspace" as "codelite" under your home directory, and named the project "CLA17", then "slist.h", "slist.cpp" and "main.cpp" should be in ~/codelite/CLA17 directory.

</body></html>
